
<div class="row margin-top mt24">
    <div class="col-md col1-image">
        <img src="./assets/img/images/paperless.png" alt="Paperless trees" />
    </div>
    <div class="col-md">
      <p class="no-margin">e-Policy allows you to view your documents online anytime.</p>
      <p class="no-margin">You will receive an email notification whenever a new document is available.</p>
      <p class="no-margin"><strong>Combine with e-PAY or e-BILL to get our Paperless Discount!.</strong></p>
      
      <h2 class="title no-border margin-top mt32">
        Policies Elegible
      </h2>
      <table mdbTable class="paperless-table">
        <tbody class="med-grey-color">
          <tr class="row-content border-full grey-border property enroll padding-vertical pv8" *ngFor="let pdetail of user.policyDetails">
            <td class="no-padding-left padding-right pr8 padding-vertical pv8 type-image">
              <img src="./assets/img/images/house_bg.png" width="20" *ngIf="pdetail.policyType == 'HOME'" />
              <img src="./assets/img/images/car_background.png" width="20" *ngIf="pdetail.policyType == 'AUTO'" />
            </td>
            <td class="no-padding-left policy-type-id padding-vertical pv8 align-middle padding-right pr8 width w-20">{{ pdetail.policyType }} &ndash; {{ pdetail.policynumber.policynumber }} </td>
            <td class="no-padding green-text padding-vertical pv8 align-middle">{{ pdetail.effDate | date:'shortDate' }} to {{ pdetail.expDate | date:'shortDate' }}</td>
            <td class="padding-vertical pv8 enroll-button align-middle" *ngIf="pdetail.policyFlags.isEdf">
              <mapfre-modal 
                [modalOptions]="endEnrollOptionsModal"
                [hideModal]="hideModal"
                (hideModalOutput)="resetHideModal($event)">
                <div class="modal-body">
                  <hr class="margin-bottom mb24 no-margin-top" />
                  <div class="margin-bottom mb24">
                      Are you sure you want to remove policy <strong>{{ pdetail.policynumber.policynumber }}</strong> from e-Policy?
                  </div>
                  <div class="mx-auto text-center">
                    <mapfre-button 
                      additionalClasses="basic default padding-vertical pv16 margin-bottom mb24 w-50"
                      (click)="cancellEnroll(pdetail.policynumber.policynumber)">
                      REMOVE FROM E-POLICY
                    </mapfre-button>
                    <mapfre-button 
                      additionalClasses="ghost secondary padding-vertical pv16  w-50"
                      (click)="hideModalAction($event)">
                      CANCEL
                    </mapfre-button>
                  </div>
                </div>
              </mapfre-modal>
              <div class="float-right align-middle enrolled-icon"><svg-check-icon-svg></svg-check-icon-svg> <span class="green-text">Enrolled</span></div>
            </td>
  
            <td class="padding-vertical pv8 enroll-button align-middle" *ngIf="!pdetail.policyFlags.isEdf">
              <mapfre-modal 
                [modalOptions]="enrollOptionsModal"
                [hideModal]="hideModal"
                (hideModalOutput)="resetHideModal($event)">
                <div class="modal-body">
                  <hr class="margin-bottom mb24 no-margin-top" />
                  <div class="margin-bottom mb24">
                      Are you sure you want to remove policy <strong>{{ pdetail.policynumber.policynumber }}</strong> from e-Bill?
                  </div>
                  <div class="mx-auto text-center">
                      <mapfre-button 
                        additionalClasses="basic primary padding-vertical pv16 margin-bottom mb24 w-50"
                        (click)="enroll(pdetail.policynumber.policynumber)">
                        Confirm Enrollment
                      </mapfre-button>
                      <mapfre-button 
                        additionalClasses="ghost secondary padding-vertical pv16 w-50"
                        (click)="hideModalAction($event)">
                        CANCEL
                      </mapfre-button>
                  </div>
                </div>
              </mapfre-modal>
            </td>
          </tr>
        </tbody>
      </table>
      
      <div class="row margin-top mt32">
        <div class="col">
          <mapfre-button
            [additionalClasses]="'flat link small'"
            [customIcon]="'./assets/img/icons/back-arrow.png'"
            [iconClasses]="'align-middle'"
            [routerLink]="['/billing/paperless']"
            [showIconsCustom]="true">  
            {{ 'BACK' | translate }}
          </mapfre-button>
        </div>
        <div class="col">
          <mapfre-button 
            additionalClasses="primary basic large  float-right"
            [routerLink]="['/billing/paperless/e-pay']">
            {{ 'CONTINUE' | translate }}
          </mapfre-button>
        </div>
      </div>
        
    </div>
  </div>

